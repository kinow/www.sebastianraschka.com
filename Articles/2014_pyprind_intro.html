<!DOCTYPE html>
<html>
<head>
		<!--META-->
		<meta name="description" content="A simple Python module that tracks the progress of iterative Python procedures via a progress bar or percentage indicator.">
		<meta name="Author" content="Sebastian Raschka">
		<title>PyPrind - A simple Python Progress Indidicator</title>

		<!-- jQuery -->
		<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
		<script type="text/javascript" src="../jQuery/main_app.js"></script>
		<script type="text/javascript" src=" ../jQuery/index.js"></script>

		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="../CSS/main.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="../CSS/content.css" media="screen" />
</head>
<body>

	<div id ='container' >

		<div id ='header_new'>
		             
				<a href = "../index.html"><img src="../Images/title_text.png" style="border-style:none"/></a>	
				<hr>
                <a href="./rss_feed.xml"><img src="./Images/rss_logo_black_1.png" align="left" style="margin-left:430px"></a>

				<div align="right" style="padding-right:20px">
					<a href = "../articles.html" class ="menubar"><font color="#6495ED">blog</font></a> &#8226;
					<a href = "../webapps.html" class ="menubar">webapps</a> &#8226;
					<a href = "../software.html" class ="menubar">software</a> &#8226;
					<a href = "../publications.html" class ="menubar">books</a> &#8226;
					<a href = "../contact.html" class ="menubar">about+contact</a> 
					
				</div>
				<hr>
		</div> <!--close header -->
	</div><!--close container -->


		<div id ='content'>
			
		


			<div id ='main'>

                <h2 class="article_top">PyPrind - A simple Python Progress Indicator</h2>
					<p id="article_header"><em>-- written by Sebastian Raschka</em> on February 2, 2014</p>

	<!-- START Twitter API -->
        		 <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://bit.ly/1fOnSgm" 
                counturl="http://groups.google.com/group/ZEsjUY"
        		 data-count="none" data-via="rasbt"
        		 data-text="PyPrind - A simple Python Progress Indidicator" data-lang="en">Tweet</a>

        		<script>!function(d,s,id){var
        		js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	<!-- END Twitter API -->  <br> 
 

<style type="text/css">
code {
   font-size: 13.5px;
   color: #000099;
}
</style>

				<div class="article" style="font-size: 16px;">
		<div style="padding-right:70px">
		  <p style="line-height:1.7">
		  
<p><strong>
<p>Sometimes it can be useful to display the progress of a computation, especially for more intensive tasks. I have written a simple module that tracks the progress of iterative Python procedures via a progress bar or percentage indicator. I've been using this tool for a while now, and I thought that it might be worthwhile to share it with you in hope it can also be useful to one or the other.</p>
</strong></p>




<p>So, your initial question is probably: "how does this progress tracking look like?"
I don't want to push your visual thinking to its limit here (or rather my capabilities to put this visual image into written words), thus I just uploaded a simple video on YouTube to show you how it looks like.</p>

<iframe width="560" height="315" src="//www.youtube.com/embed/Ex05RM9vLKE" frameborder="0" allowfullscreen></iframe>

<br>
<h3>Download and Installation:</h3>

<p>The PyPrind module works with both Python 2.7 and Python 3.3, and it can be downloaded directly from the Python Package Index (<a href="https://pypi.python.org/pypi/PyPrind">https://pypi.python.org/pypi/PyPrind</a>) to install it via</p>

<pre><code>python setup.py install
</code></pre>

<p>If you don't want to download and install the module manually, you can also use  <code>pip install pyprind</code> or <code>easy_install pyprind</code> from the command line.</p>

<p>You are also welcome to fork the project on GitHub: <a href="https://github.com/rasbt/pyprind">https://github.com/rasbt/pyprind</a></p>

<br>
<h3>Usage</h3>

<p>Currently, I implemented two ways to track a progress via PyPrind. This can be either by a classic progress bar or via a percentage indicator. Both options require just a simple 2-step process:</p>

<p>1) initialization of the progress-tracking object with the number of iterations<br/>
2) calling the <code>.update()</code> method</p>

<p>I kept the progress tracking rather simple on purpose, in order to minimize performance losses.</p>

<p>Below are two simple examples:</p>

<hr>

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #888888">### PROGRESS BAR EXAMPLE ###</span>
&gt;n <span style="color: #333333">=</span> 10000000
<span style="color: #996633">my_prbar</span> <span style="color: #333333">=</span> pyprind.ProgBar<span style="color: #333333">(</span>n<span style="color: #333333">)</span>   <span style="color: #888888"># 1) init. with number of iterations</span>
<span style="color: #008800; font-weight: bold">for </span>i in range<span style="color: #333333">(</span>n<span style="color: #333333">)</span>:  
    <span style="color: #888888"># do some computation</span>
    my_prbar.update<span style="color: #333333">()</span>           <span style="color: #888888"># 2) update the progress visualization</span>
</pre></div>



<br>

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #888888">### PERCENTAGE INDICATOR EXAMPLE ###</span>
<span style="color: #996633">n</span> <span style="color: #333333">=</span> 10000000
<span style="color: #996633">my_prperc</span> <span style="color: #333333">=</span> pyprind.ProgPercent<span style="color: #333333">(</span>n<span style="color: #333333">)</span> <span style="color: #888888"># 1) init. with number of iterations</span>
<span style="color: #008800; font-weight: bold">for </span>i in range<span style="color: #333333">(</span>n<span style="color: #333333">)</span>:  
    <span style="color: #888888"># do some computation</span>
    my_prerc.update<span style="color: #333333">()</span>              <span style="color: #888888"># 2) update the progress visualization</span>
</pre></div>


<hr>


<p>For optional parameters, like adjusting the width of the progress bar and turning-off the live-time tracking of the percentage indicator, please refer to the documentation at <a href="http://pythonhosted.org/PyPrind/">http://pythonhosted.org/PyPrind/</a></p>

<br>
<h3>Example Application - SQLite database operations</h3>

<p>I am working a lot with SQLite databases these days and found it very useful to use progress tracking to get an rough idea of how much data was already processed and to estimate how long an operation could take.  In the example below I have provided some simple code to initialize a SQLite database and feed it IDs from a list in text format.<br/>
The ID list consists of 6,056,212 rows where each row consists of a unique ID number associated with a certain category 'a', 'b', 'c', or 'd'.<br/>
The figure below shows how this ID file looks like:<br/><br/>
<br/>

<img src="../Images/pyprind_list_id.png" alt="../Images/pyprind_list_id.png" /></p>

<p>For the SQLite database, I am using an integer column to save the IDs (as Primary Key) for performance reasons. The second column is a text column that contains the categorical information. The image below is a screenshot from FireFox's <a href="https://addons.mozilla.org/en-US/firefox/addon/sqlite-manager/">SQLite Manager plugin</a>:</p>

<p><img src="../Images/pyprind_my_sqlite_db.png" alt="../Images/pyprind_my_sqlite_db.png" /></p>

<p>And here is the Python code that I used to create this SQLite database:</p>

<p><img src="../Images/pyprind_init_sqlite_code.png" alt="../Images/pyprind_init_sqlite_code.png" /></p>

<p>The two YouTube videos show how the execution looks like:</p>

<iframe width="560" height="315" src="//www.youtube.com/embed/EUBAYU_JczY" frameborder="0" allowfullscreen></iframe>


<p> <iframe width="560" height="315" src="//www.youtube.com/embed/f6S9fXFwTmg" frameborder="0" allowfullscreen></iframe></p>

<br>
<h4>Performance</h4>

<p>I was also interested to see how big the performance loss of the overall database initialization is if I track the progress via the PyPrind objects. And, based on the results, it looks quite reasonable: Using PyPrind's progress bar visualization resulted in a 20.8347 sec longer CPU time for the 6,056,212 iterations in the data processing loop. As expected, PyPrind's percentage indicator used a little bit more resources and added 40.4861 sec of CPU time.<br/>
The results (average values with variances as error bars) are shown in the bar plot below.
<img src="../Images/pyprind_barplot_init_sqlite.png" alt="../Images/pyprind_barplot_init_sqlite.png" /></p>

<p>Using a simple rule of three we can deduce that for PyPrind's progress bar ~300,000 iterations cost 1 sec extra CPU time here, and PyPrind's percent indicator requires 1 sec of extra CPU time for every ~150,000 iterations.
Of course those are only rough measurements, which are also subject to the machine you are running the computation.<br/>
For me, is was quite sufficient to know that PyPrind does not have a huge impact on the overall performance, but if you are interested in more detailed performance profiles, you can take a look at <a href="">http://docs.python.org/3.3/library/profile.html</a>the Python Profilers) and analyze your script via
<code>python -m cProfile your_code.py</code></p>

<p><strong>So, I hope this simple progress tracking tool could be useful to you, and please let me know if you have any ideas or suggestions!</strong></p>

				  
	
		&nbsp;<br>
     	  &nbsp;<br>   
        
					
	

		</div> 	<!-- close article -->



			</div><!--close main -->
		
	</div><!--close content -->
	




<!-- START Footer -->

	<div id ='footer'>	
        <center>
	<hr>
        <div style="height:20px;"></div>
        <p>HTML and JavaScripts were written by Sebastian Raschka <br>
        Copyright (C) 2013-2014 Sebastian Raschka</p>


	<!-- START Twitter API -->

 <a href="https://twitter.com/rasbt" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @rasbt</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
	<!-- END Twitter API -->
<div style="height:20px;"></div>

	<hr>

     
        
		 <div style="height:10px;"></div>
		</center>
	</div>
<!-- END Footer -->


<!-- Start DISQUS -->

 <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'sebastianraschka'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


<!-- Start Google Analytics -->
		<script type="text/javascript">

  		var _gaq = _gaq || [];
  		_gaq.push(['_setAccount', 'UA-38457794-1']);
  		_gaq.push(['_trackPageview']);

  		(function() {
    	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  		})();
		</script>
<!-- End  Google Analytics -->

</body>
</html>
